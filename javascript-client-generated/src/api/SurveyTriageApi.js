/*
 * TMI (Threat Modeling Improved) API
 * A RESTful API for collaborative threat modeling with full X6 graph library compatibility. This API provides schemas that align with AntV X6 cell object models for seamless integration with modern diagramming libraries. Supports OAuth 2.0 authentication with client callback integration for seamless single-page application authentication flows.  ## API Design v1.1.0  ### Authorization Model TMI uses hierarchical authorization: access control is defined at the ThreatModel level via the authorization field (readers, writers, owners). All child resources (Assets, Diagrams, Documents, Notes, Repositories, Threats) inherit permissions from their parent ThreatModel. This simplifies permission management and ensures consistent access control.  ### Bulk Operations Notes and Diagrams do not support bulk operations due to their unique creation workflows and lack of valid bulk use cases. All other resources (Threats, Assets, Documents, Repositories) support full bulk operations: POST (create), PUT (upsert), PATCH (partial update), DELETE (batch delete).  All resources support bulk metadata operations regardless of resource-level bulk support.  ### List Response Strategy - ThreatModels return summary information (TMListItem) because they contain many child objects that can be large. - Diagrams return summary information (DiagramListItem) because diagram data (cells, images) can be large. - Notes return summary information (NoteListItem) because the content field can be large. - Threats, Assets, Documents, Repositories return full schemas as they are relatively small and static.  ### PATCH Support All resources support PATCH for partial updates using JSON Patch (RFC 6902). This is particularly useful for: - Assets: Array field updates (affected_assets, trust_boundaries) ensuring no duplicates - Notes: Updating name/description without changing content field - All resources: Efficient updates without full object replacement 
 *
 * OpenAPI spec version: 1.2.0
 * Contact: api@tmi.local.dev
 *
 * NOTE: This class is auto generated by the swagger code generator program.
 * https://github.com/swagger-api/swagger-codegen.git
 *
 * Swagger Codegen version: 3.0.78
 *
 * Do not edit the class manually.
 *
 */
import ApiClient from "../ApiClient";
import CreateThreatModelFromSurveyResponse from '../model/CreateThreatModelFromSurveyResponse';
import Error from '../model/Error';
import JsonPatchDocumentInner from '../model/JsonPatchDocumentInner';
import ListSurveyResponsesResponse from '../model/ListSurveyResponsesResponse';
import ListTriageNotesResponse from '../model/ListTriageNotesResponse';
import Metadata from '../model/Metadata';
import SurveyResponse from '../model/SurveyResponse';
import TriageNote from '../model/TriageNote';
import TriageNoteInput from '../model/TriageNoteInput';

/**
* SurveyTriage service.
* @module api/SurveyTriageApi
* @version 1.0.0
*/
export default class SurveyTriageApi {

    /**
    * Constructs a new SurveyTriageApi. 
    * @alias module:api/SurveyTriageApi
    * @class
    * @param {module:ApiClient} [apiClient] Optional API client implementation to use,
    * default to {@link module:ApiClient#instanc
    e} if unspecified.
    */
    constructor(apiClient) {
        this.apiClient = apiClient || ApiClient.instance;
    }



    /**
     * Create threat model from survey response
     * Creates a new threat model from an approved survey response. Copies answers to TM metadata, sets owner to survey owner, and transitions response to review_created.
     * @param {String} surveyResponseId Unique identifier of the survey response
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with an object containing data of type {@link module:model/CreateThreatModelFromSurveyResponse} and HTTP response
     */
    createThreatModelFromSurveyResponseWithHttpInfo(surveyResponseId) {
      
      let postBody = null;
      // verify the required parameter 'surveyResponseId' is set
      if (surveyResponseId === undefined || surveyResponseId === null) {
        throw new Error("Missing the required parameter 'surveyResponseId' when calling createThreatModelFromSurveyResponse");
      }

      let pathParams = {
        'survey_response_id': surveyResponseId
      };
      let queryParams = {
        
      };
      let headerParams = {
        
      };
      let formParams = {
        
      };

      let authNames = ['bearerAuth'];
      let contentTypes = [];
      let accepts = ['application/json'];
      let returnType = CreateThreatModelFromSurveyResponse;

      return this.apiClient.callApi(
        '/triage/survey_responses/{survey_response_id}/create_threat_model', 'POST',
        pathParams, queryParams, headerParams, formParams, postBody,
        authNames, contentTypes, accepts, returnType
      );
    }

    /**
     * Create threat model from survey response
     * Creates a new threat model from an approved survey response. Copies answers to TM metadata, sets owner to survey owner, and transitions response to review_created.
     * @param {<&vendorExtensions.x-jsdoc-type>} surveyResponseId Unique identifier of the survey response
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with data of type {@link module:model/CreateThreatModelFromSurveyResponse}
     */
    createThreatModelFromSurveyResponse(surveyResponseId) {
      return this.createThreatModelFromSurveyResponseWithHttpInfo(surveyResponseId)
        .then(function(response_and_data) {
          return response_and_data.data;
        });
    }


    /**
     * Create a triage note
     * Creates a new triage note on the specified survey response. Only accessible to security reviewers.
     * @param {module:model/TriageNoteInput} body Triage note creation data
     * @param {String} surveyResponseId Unique identifier of the survey response
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with an object containing data of type {@link module:model/TriageNote} and HTTP response
     */
    createTriageSurveyResponseTriageNoteWithHttpInfo(body, surveyResponseId) {
      
      let postBody = body;
      // verify the required parameter 'body' is set
      if (body === undefined || body === null) {
        throw new Error("Missing the required parameter 'body' when calling createTriageSurveyResponseTriageNote");
      }
      // verify the required parameter 'surveyResponseId' is set
      if (surveyResponseId === undefined || surveyResponseId === null) {
        throw new Error("Missing the required parameter 'surveyResponseId' when calling createTriageSurveyResponseTriageNote");
      }

      let pathParams = {
        'survey_response_id': surveyResponseId
      };
      let queryParams = {
        
      };
      let headerParams = {
        
      };
      let formParams = {
        
      };

      let authNames = ['bearerAuth'];
      let contentTypes = ['application/json'];
      let accepts = ['application/json'];
      let returnType = TriageNote;

      return this.apiClient.callApi(
        '/triage/survey_responses/{survey_response_id}/triage_notes', 'POST',
        pathParams, queryParams, headerParams, formParams, postBody,
        authNames, contentTypes, accepts, returnType
      );
    }

    /**
     * Create a triage note
     * Creates a new triage note on the specified survey response. Only accessible to security reviewers.
     * @param {<&vendorExtensions.x-jsdoc-type>} body Triage note creation data
     * @param {<&vendorExtensions.x-jsdoc-type>} surveyResponseId Unique identifier of the survey response
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with data of type {@link module:model/TriageNote}
     */
    createTriageSurveyResponseTriageNote(body, surveyResponseId) {
      return this.createTriageSurveyResponseTriageNoteWithHttpInfo(body, surveyResponseId)
        .then(function(response_and_data) {
          return response_and_data.data;
        });
    }


    /**
     * Get survey response for triage
     * Returns a specific survey response for security engineer review.
     * @param {String} surveyResponseId Unique identifier of the survey response
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with an object containing data of type {@link module:model/SurveyResponse} and HTTP response
     */
    getTriageSurveyResponseWithHttpInfo(surveyResponseId) {
      
      let postBody = null;
      // verify the required parameter 'surveyResponseId' is set
      if (surveyResponseId === undefined || surveyResponseId === null) {
        throw new Error("Missing the required parameter 'surveyResponseId' when calling getTriageSurveyResponse");
      }

      let pathParams = {
        'survey_response_id': surveyResponseId
      };
      let queryParams = {
        
      };
      let headerParams = {
        
      };
      let formParams = {
        
      };

      let authNames = ['bearerAuth'];
      let contentTypes = [];
      let accepts = ['application/json'];
      let returnType = SurveyResponse;

      return this.apiClient.callApi(
        '/triage/survey_responses/{survey_response_id}', 'GET',
        pathParams, queryParams, headerParams, formParams, postBody,
        authNames, contentTypes, accepts, returnType
      );
    }

    /**
     * Get survey response for triage
     * Returns a specific survey response for security engineer review.
     * @param {<&vendorExtensions.x-jsdoc-type>} surveyResponseId Unique identifier of the survey response
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with data of type {@link module:model/SurveyResponse}
     */
    getTriageSurveyResponse(surveyResponseId) {
      return this.getTriageSurveyResponseWithHttpInfo(surveyResponseId)
        .then(function(response_and_data) {
          return response_and_data.data;
        });
    }


    /**
     * Get all metadata for a survey response
     * Returns all metadata key-value pairs for the specified survey response (read-only triage access)
     * @param {String} surveyResponseId Unique identifier of the survey response
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with an object containing data of type {@link Array.<module:model/Metadata>} and HTTP response
     */
    getTriageSurveyResponseMetadataWithHttpInfo(surveyResponseId) {
      
      let postBody = null;
      // verify the required parameter 'surveyResponseId' is set
      if (surveyResponseId === undefined || surveyResponseId === null) {
        throw new Error("Missing the required parameter 'surveyResponseId' when calling getTriageSurveyResponseMetadata");
      }

      let pathParams = {
        'survey_response_id': surveyResponseId
      };
      let queryParams = {
        
      };
      let headerParams = {
        
      };
      let formParams = {
        
      };

      let authNames = ['bearerAuth'];
      let contentTypes = [];
      let accepts = ['application/json'];
      let returnType = [Metadata];

      return this.apiClient.callApi(
        '/triage/survey_responses/{survey_response_id}/metadata', 'GET',
        pathParams, queryParams, headerParams, formParams, postBody,
        authNames, contentTypes, accepts, returnType
      );
    }

    /**
     * Get all metadata for a survey response
     * Returns all metadata key-value pairs for the specified survey response (read-only triage access)
     * @param {<&vendorExtensions.x-jsdoc-type>} surveyResponseId Unique identifier of the survey response
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with data of type {@link Array.<module:model/Metadata>}
     */
    getTriageSurveyResponseMetadata(surveyResponseId) {
      return this.getTriageSurveyResponseMetadataWithHttpInfo(surveyResponseId)
        .then(function(response_and_data) {
          return response_and_data.data;
        });
    }


    /**
     * Get metadata by key for a survey response
     * Returns a specific metadata entry by key for the specified survey response (read-only triage access)
     * @param {String} surveyResponseId Unique identifier of the survey response
     * @param {String} key Metadata key
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with an object containing data of type {@link module:model/Metadata} and HTTP response
     */
    getTriageSurveyResponseMetadataByKeyWithHttpInfo(surveyResponseId, key) {
      
      let postBody = null;
      // verify the required parameter 'surveyResponseId' is set
      if (surveyResponseId === undefined || surveyResponseId === null) {
        throw new Error("Missing the required parameter 'surveyResponseId' when calling getTriageSurveyResponseMetadataByKey");
      }
      // verify the required parameter 'key' is set
      if (key === undefined || key === null) {
        throw new Error("Missing the required parameter 'key' when calling getTriageSurveyResponseMetadataByKey");
      }

      let pathParams = {
        'survey_response_id': surveyResponseId,'key': key
      };
      let queryParams = {
        
      };
      let headerParams = {
        
      };
      let formParams = {
        
      };

      let authNames = ['bearerAuth'];
      let contentTypes = [];
      let accepts = ['application/json'];
      let returnType = Metadata;

      return this.apiClient.callApi(
        '/triage/survey_responses/{survey_response_id}/metadata/{key}', 'GET',
        pathParams, queryParams, headerParams, formParams, postBody,
        authNames, contentTypes, accepts, returnType
      );
    }

    /**
     * Get metadata by key for a survey response
     * Returns a specific metadata entry by key for the specified survey response (read-only triage access)
     * @param {<&vendorExtensions.x-jsdoc-type>} surveyResponseId Unique identifier of the survey response
     * @param {<&vendorExtensions.x-jsdoc-type>} key Metadata key
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with data of type {@link module:model/Metadata}
     */
    getTriageSurveyResponseMetadataByKey(surveyResponseId, key) {
      return this.getTriageSurveyResponseMetadataByKeyWithHttpInfo(surveyResponseId, key)
        .then(function(response_and_data) {
          return response_and_data.data;
        });
    }


    /**
     * Get a specific triage note
     * Returns details of a specific triage note within the survey response. Only accessible to security reviewers.
     * @param {String} surveyResponseId Unique identifier of the survey response
     * @param {Number} triageNoteId Triage note identifier (sequential within survey response)
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with an object containing data of type {@link module:model/TriageNote} and HTTP response
     */
    getTriageSurveyResponseTriageNoteWithHttpInfo(surveyResponseId, triageNoteId) {
      
      let postBody = null;
      // verify the required parameter 'surveyResponseId' is set
      if (surveyResponseId === undefined || surveyResponseId === null) {
        throw new Error("Missing the required parameter 'surveyResponseId' when calling getTriageSurveyResponseTriageNote");
      }
      // verify the required parameter 'triageNoteId' is set
      if (triageNoteId === undefined || triageNoteId === null) {
        throw new Error("Missing the required parameter 'triageNoteId' when calling getTriageSurveyResponseTriageNote");
      }

      let pathParams = {
        'survey_response_id': surveyResponseId,'triage_note_id': triageNoteId
      };
      let queryParams = {
        
      };
      let headerParams = {
        
      };
      let formParams = {
        
      };

      let authNames = ['bearerAuth'];
      let contentTypes = [];
      let accepts = ['application/json'];
      let returnType = TriageNote;

      return this.apiClient.callApi(
        '/triage/survey_responses/{survey_response_id}/triage_notes/{triage_note_id}', 'GET',
        pathParams, queryParams, headerParams, formParams, postBody,
        authNames, contentTypes, accepts, returnType
      );
    }

    /**
     * Get a specific triage note
     * Returns details of a specific triage note within the survey response. Only accessible to security reviewers.
     * @param {<&vendorExtensions.x-jsdoc-type>} surveyResponseId Unique identifier of the survey response
     * @param {<&vendorExtensions.x-jsdoc-type>} triageNoteId Triage note identifier (sequential within survey response)
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with data of type {@link module:model/TriageNote}
     */
    getTriageSurveyResponseTriageNote(surveyResponseId, triageNoteId) {
      return this.getTriageSurveyResponseTriageNoteWithHttpInfo(surveyResponseId, triageNoteId)
        .then(function(response_and_data) {
          return response_and_data.data;
        });
    }


    /**
     * List triage notes for a survey response
     * Returns a paginated list of triage notes attached to the specified survey response. Only accessible to security reviewers.
     * @param {String} surveyResponseId Unique identifier of the survey response
     * @param {Object} opts Optional parameters
     * @param {Number} opts.limit Maximum number of results to return (default to <.>)
     * @param {Number} opts.offset Number of results to skip (default to <.>)
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with an object containing data of type {@link module:model/ListTriageNotesResponse} and HTTP response
     */
    listTriageSurveyResponseTriageNotesWithHttpInfo(surveyResponseId, opts) {
      opts = opts || {};
      let postBody = null;
      // verify the required parameter 'surveyResponseId' is set
      if (surveyResponseId === undefined || surveyResponseId === null) {
        throw new Error("Missing the required parameter 'surveyResponseId' when calling listTriageSurveyResponseTriageNotes");
      }

      let pathParams = {
        'survey_response_id': surveyResponseId
      };
      let queryParams = {
        'limit': opts['limit'],'offset': opts['offset']
      };
      let headerParams = {
        
      };
      let formParams = {
        
      };

      let authNames = ['bearerAuth'];
      let contentTypes = [];
      let accepts = ['application/json'];
      let returnType = ListTriageNotesResponse;

      return this.apiClient.callApi(
        '/triage/survey_responses/{survey_response_id}/triage_notes', 'GET',
        pathParams, queryParams, headerParams, formParams, postBody,
        authNames, contentTypes, accepts, returnType
      );
    }

    /**
     * List triage notes for a survey response
     * Returns a paginated list of triage notes attached to the specified survey response. Only accessible to security reviewers.
     * @param {<&vendorExtensions.x-jsdoc-type>} surveyResponseId Unique identifier of the survey response
     * @param {Object} opts Optional parameters
     * @param {Number} opts.limit Maximum number of results to return (default to <.>)
     * @param {Number} opts.offset Number of results to skip (default to <.>)
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with data of type {@link module:model/ListTriageNotesResponse}
     */
    listTriageSurveyResponseTriageNotes(surveyResponseId, opts) {
      return this.listTriageSurveyResponseTriageNotesWithHttpInfo(surveyResponseId, opts)
        .then(function(response_and_data) {
          return response_and_data.data;
        });
    }


    /**
     * List survey responses for triage
     * Returns a paginated list of survey responses for security engineers to triage. Filter by status&#x3D;submitted to see the triage queue.
     * @param {Object} opts Optional parameters
     * @param {String} opts.status Filter by response status
     * @param {String} opts.surveyId Filter by survey ID
     * @param {Boolean} opts.isConfidential Filter by secret_project flag
     * @param {Number} opts.limit Maximum number of results to return (default to <.>)
     * @param {Number} opts.offset Number of results to skip (default to <.>)
     * @param {String} opts.sort Sort order (e.g., created_at:desc, name:asc, severity:desc, score:desc) (default to <.>)
     * @param {Date} opts.createdAfter Filter results created after this timestamp (ISO 8601)
     * @param {Date} opts.createdBefore Filter results created before this timestamp (ISO 8601)
     * @param {Date} opts.modifiedAfter Filter results modified after this timestamp (ISO 8601)
     * @param {Date} opts.modifiedBefore Filter results modified before this timestamp (ISO 8601)
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with an object containing data of type {@link module:model/ListSurveyResponsesResponse} and HTTP response
     */
    listTriageSurveyResponsesWithHttpInfo(opts) {
      opts = opts || {};
      let postBody = null;

      let pathParams = {
        
      };
      let queryParams = {
        'status': opts['status'],'survey_id': opts['surveyId'],'is_confidential': opts['isConfidential'],'limit': opts['limit'],'offset': opts['offset'],'sort': opts['sort'],'created_after': opts['createdAfter'],'created_before': opts['createdBefore'],'modified_after': opts['modifiedAfter'],'modified_before': opts['modifiedBefore']
      };
      let headerParams = {
        
      };
      let formParams = {
        
      };

      let authNames = ['bearerAuth'];
      let contentTypes = [];
      let accepts = ['application/json'];
      let returnType = ListSurveyResponsesResponse;

      return this.apiClient.callApi(
        '/triage/survey_responses', 'GET',
        pathParams, queryParams, headerParams, formParams, postBody,
        authNames, contentTypes, accepts, returnType
      );
    }

    /**
     * List survey responses for triage
     * Returns a paginated list of survey responses for security engineers to triage. Filter by status&#x3D;submitted to see the triage queue.
     * @param {Object} opts Optional parameters
     * @param {String} opts.status Filter by response status
     * @param {String} opts.surveyId Filter by survey ID
     * @param {Boolean} opts.isConfidential Filter by secret_project flag
     * @param {Number} opts.limit Maximum number of results to return (default to <.>)
     * @param {Number} opts.offset Number of results to skip (default to <.>)
     * @param {String} opts.sort Sort order (e.g., created_at:desc, name:asc, severity:desc, score:desc) (default to <.>)
     * @param {Date} opts.createdAfter Filter results created after this timestamp (ISO 8601)
     * @param {Date} opts.createdBefore Filter results created before this timestamp (ISO 8601)
     * @param {Date} opts.modifiedAfter Filter results modified after this timestamp (ISO 8601)
     * @param {Date} opts.modifiedBefore Filter results modified before this timestamp (ISO 8601)
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with data of type {@link module:model/ListSurveyResponsesResponse}
     */
    listTriageSurveyResponses(opts) {
      return this.listTriageSurveyResponsesWithHttpInfo(opts)
        .then(function(response_and_data) {
          return response_and_data.data;
        });
    }


    /**
     * Partial update survey response for triage
     * Partially updates a survey response using JSON Patch (RFC 6902). Security Reviewers can change status via /status path. Valid statuses: draft, submitted, needs_revision, ready_for_review, review_created. Transitioning to needs_revision requires revision_notes.
     * @param {Array.<module:model/JsonPatchDocumentInner>} body JSON Patch operations to apply to the survey response during triage
     * @param {String} surveyResponseId Unique identifier of the survey response
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with an object containing data of type {@link module:model/SurveyResponse} and HTTP response
     */
    patchTriageSurveyResponseWithHttpInfo(body, surveyResponseId) {
      
      let postBody = body;
      // verify the required parameter 'body' is set
      if (body === undefined || body === null) {
        throw new Error("Missing the required parameter 'body' when calling patchTriageSurveyResponse");
      }
      // verify the required parameter 'surveyResponseId' is set
      if (surveyResponseId === undefined || surveyResponseId === null) {
        throw new Error("Missing the required parameter 'surveyResponseId' when calling patchTriageSurveyResponse");
      }

      let pathParams = {
        'survey_response_id': surveyResponseId
      };
      let queryParams = {
        
      };
      let headerParams = {
        
      };
      let formParams = {
        
      };

      let authNames = ['bearerAuth'];
      let contentTypes = ['application/json-patch+json'];
      let accepts = ['application/json'];
      let returnType = SurveyResponse;

      return this.apiClient.callApi(
        '/triage/survey_responses/{survey_response_id}', 'PATCH',
        pathParams, queryParams, headerParams, formParams, postBody,
        authNames, contentTypes, accepts, returnType
      );
    }

    /**
     * Partial update survey response for triage
     * Partially updates a survey response using JSON Patch (RFC 6902). Security Reviewers can change status via /status path. Valid statuses: draft, submitted, needs_revision, ready_for_review, review_created. Transitioning to needs_revision requires revision_notes.
     * @param {<&vendorExtensions.x-jsdoc-type>} body JSON Patch operations to apply to the survey response during triage
     * @param {<&vendorExtensions.x-jsdoc-type>} surveyResponseId Unique identifier of the survey response
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with data of type {@link module:model/SurveyResponse}
     */
    patchTriageSurveyResponse(body, surveyResponseId) {
      return this.patchTriageSurveyResponseWithHttpInfo(body, surveyResponseId)
        .then(function(response_and_data) {
          return response_and_data.data;
        });
    }

}